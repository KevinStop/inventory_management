import{a as B}from"./chunk-DK2NHJD3.js";import{d as F,f as j}from"./chunk-7AUJDYC3.js";import{a as V}from"./chunk-MHTYV42J.js";import"./chunk-NKQOLO4R.js";import{u as H}from"./chunk-SGIGSFT7.js";import{d as T}from"./chunk-LQDACG22.js";import{i as I,j as _,p as C,r as M}from"./chunk-GMFH3NDN.js";import{Gb as a,Ib as s,Ka as S,Ob as E,Pa as l,Qa as m,Yb as y,_ as w,_b as h,bb as f,db as g,ha as k,ia as q,ja as c,ka as p,mb as e,nb as r,ob as u,sb as D,vb as x,wb as v,zb as R}from"./chunk-ETUY2JGY.js";function O(o,n){if(o&1&&(e(0,"div",26)(1,"div",27)(2,"p",28),u(3,"img",29),r(),e(4,"a",30),a(5),r(),e(6,"div",31)(7,"p",32),a(8),r(),e(9,"p",33),a(10,"Cantidad"),r()()()()),o&2){let i=n.$implicit,t=v();l(3),R("alt",i.component.name),g("src",t.apiUrl+i.component.imageUrl,S),l(2),s(" ",i.component.name," "),l(3),s("x",i.quantity,"")}}function A(o,n){if(o&1){let i=D();e(0,"button",25),x("click",function(){k(i);let d=v();return q(d.cancelRequest(d.requestDetails==null?null:d.requestDetails.requestId))}),a(1," Cancelar solicitud "),r()}}var b=class o{constructor(n,i,t,d){this.route=n;this.requestService=i;this.router=t;this.sweetalertService=d}apiUrl=T.apiUrl;requestDetails=null;ngOnInit(){let n=this.route.snapshot.paramMap.get("id");n&&this.loadRequestDetails(+n)}loadRequestDetails(n){this.requestService.getRequestById(n).subscribe(i=>{this.requestDetails=i},i=>{console.error("Error al cargar los detalles de la solicitud:",i),this.sweetalertService.error("Error al cargar los detalles de la solicitud.")})}cancelRequest(n){this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas cancelar esta solicitud?").then(i=>{i.isConfirmed&&this.requestService.deleteRequest(n).subscribe(()=>{this.sweetalertService.success("Solicitud cancelada exitosamente."),this.router.navigate(["/home/viewComponents"])},t=>{console.error("Error al cancelar la solicitud:",t),this.sweetalertService.error("Hubo un error al cancelar la solicitud. Intente nuevamente.")})})}goBack(){this.router.navigate(["/home/requestView"])}static \u0275fac=function(i){return new(i||o)(m(F),m(B),m(j),m(V))};static \u0275cmp=w({type:o,selectors:[["app-request-details"]],standalone:!0,features:[E],decls:42,vars:11,consts:[[1,"bg-white","py-5","antialiased","dark:bg-gray-900","rounded-lg"],[1,"mx-auto","max-w-screen-xl","px-4","2xl:px-0"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","sm:text-2xl"],[1,"mt-6","sm:mt-8","lg:flex","lg:gap-8"],[1,"w-full","divide-y","divide-gray-200","overflow-hidden","rounded-lg","border","border-gray-200","dark:divide-gray-700","dark:border-gray-700","lg:max-w-xl","xl:max-w-2xl"],["class","space-y-4 p-6",4,"ngFor","ngForOf"],[1,"mt-6","grow","sm:mt-8","lg:mt-0"],[1,"space-y-6","rounded-lg","border","border-gray-200","bg-white","p-6","shadow-sm","dark:border-gray-700","dark:bg-gray-800"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"relative","ms-3","border-s","border-gray-200","dark:border-gray-700"],[1,"mb-10","ms-6"],[1,"absolute","-start-3","flex","h-6","w-6","items-center","justify-center","rounded-full","bg-gray-100","ring-8","ring-white","dark:bg-gray-700","dark:ring-gray-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-4","w-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"],[1,"mb-0.5","text-base","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","font-normal","text-gray-500","dark:text-gray-400"],[1,"mb-10","ms-6","text-primary-700","dark:text-primary-500"],[1,"absolute","-start-3","flex","h-6","w-6","items-center","justify-center","rounded-full","bg-primary-100","ring-8","ring-white","dark:bg-primary-900","dark:ring-gray-800"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 11.917 9.724 16.5 19 7.5"],[1,"mb-0.5","font-semibold"],[1,"text-sm"],[1,"mb-0.5","text-base","font-semibold"],[1,"gap-4","sm:flex","sm:items-center"],["class","w-full sm:w-auto rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-sm font-medium text-gray-900 hover:bg-gray-100 hover:text-primary-700 focus:z-10 focus:outline-none focus:ring-4 focus:ring-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white dark:focus:ring-gray-700",3,"click",4,"ngIf"],[1,"w-full","sm:w-auto","rounded-lg","border","border-gray-200","bg-white","px-5","py-2.5","text-sm","font-medium","text-gray-900","hover:bg-gray-100","hover:text-primary-700","focus:z-10","focus:outline-none","focus:ring-4","focus:ring-gray-100","dark:border-gray-600","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white","dark:focus:ring-gray-700",3,"click"],[1,"space-y-4","p-6"],[1,"flex","items-center","gap-6"],[1,"h-14","w-14","shrink-0"],["alt","Imagen del componente",1,"h-full","w-full",3,"src","alt"],[1,"min-w-0","flex-1","font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","justify-end","gap-4"],[1,"text-base","font-normal","text-gray-900","dark:text-white"],[1,"text-xl","font-bold","leading-tight","text-gray-900","dark:text-white"]],template:function(i,t){i&1&&(e(0,"section",0)(1,"div",1)(2,"h2",2),a(3,"Componentes solicitados"),r(),e(4,"div",3)(5,"div",4),f(6,O,11,4,"div",5),r(),e(7,"div",6)(8,"div",7)(9,"h3",8),a(10,"Detalles de la solicitud"),r(),e(11,"ol",9)(12,"li",10)(13,"span",11),c(),e(14,"svg",12),u(15,"path",13),r()(),p(),e(16,"h4",14),a(17),r(),e(18,"p",15),a(19,"Tipo de solicitud"),r()(),e(20,"li",16)(21,"span",17),c(),e(22,"svg",18),u(23,"path",19),r()(),p(),e(24,"h4",20),a(25),y(26,"date"),r(),e(27,"p",21),a(28,"Fecha de creaci\xF3n"),r()(),e(29,"li",16)(30,"span",17),c(),e(31,"svg",18),u(32,"path",19),r()(),p(),e(33,"h4",22),a(34),y(35,"date"),r(),e(36,"p",21),a(37,"Fecha de retorno"),r()()(),e(38,"div",23),f(39,A,2,0,"button",24),e(40,"button",25),x("click",function(){return t.goBack()}),a(41," Regresar "),r()()()()()()()),i&2&&(l(6),g("ngForOf",t.requestDetails==null?null:t.requestDetails.requestDetails),l(11),s(" ",t.requestDetails==null?null:t.requestDetails.typeRequest," "),l(8),s(" ",t.requestDetails!=null&&t.requestDetails.createdAt?h(26,5,t.requestDetails.createdAt,"dd/MM/yyyy HH:mm"):"Fecha no disponible"," "),l(9),s(" ",t.requestDetails!=null&&t.requestDetails.returnDate?h(35,8,t.requestDetails.returnDate,"dd/MM/yyyy HH:mm"):"No definida"," "),l(5),g("ngIf",(t.requestDetails==null?null:t.requestDetails.status)==="pendiente"))},dependencies:[H,M,I,_,C],encapsulation:2})};export{b as default};
