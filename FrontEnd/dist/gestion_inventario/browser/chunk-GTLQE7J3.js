import{a as ee}from"./chunk-DK2NHJD3.js";import{a as H}from"./chunk-ZKTQV7EG.js";import{c as P}from"./chunk-7AUJDYC3.js";import{a as X}from"./chunk-MHTYV42J.js";import"./chunk-NKQOLO4R.js";import{a as Y}from"./chunk-X5OPW46L.js";import{b as B,e as W,h as Z,n as G,o as Q,r as J,u as K}from"./chunk-SGIGSFT7.js";import{d as $}from"./chunk-LQDACG22.js";import{h as U,i as D,j as F,p as O,r as L}from"./chunk-GMFH3NDN.js";import{Gb as s,Ib as g,Jb as N,Ka as S,Kb as I,La as E,Lb as M,Mb as V,Ob as T,Pa as l,Qa as b,Sb as A,Yb as z,_ as C,_b as j,bb as v,db as u,ha as m,ia as p,ja as w,ka as k,mb as i,nb as r,ob as h,pb as _,qb as y,sb as x,vb as f,wb as c}from"./chunk-ETUY2JGY.js";var te=(a,t,e)=>({"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":a,"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":t,"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300":e});function ie(a,t){if(a&1){let e=x();_(0),i(1,"button",32),f("click",function(){m(e);let o=c().$implicit,d=c();return p(d.acceptRequest(o.requestId))}),s(2," Aceptar "),r(),i(3,"button",33),f("click",function(){m(e);let o=c().$implicit,d=c();return p(d.rejectRequest(o.requestId))}),s(4," Rechazar "),r(),y()}}function re(a,t){if(a&1){let e=x();_(0),i(1,"button",33),f("click",function(){m(e);let o=c().$implicit,d=c();return p(d.markAsNotReturned(o.requestId))}),s(2," No devuelto "),r(),i(3,"button",34),f("click",function(){m(e);let o=c().$implicit,d=c();return p(d.finalizeRequest(o.requestId))}),s(4," Finalizar "),r(),y()}}function ne(a,t){if(a&1){let e=x();_(0),i(1,"button",34),f("click",function(){m(e);let o=c().$implicit,d=c();return p(d.finalizeRequest(o.requestId))}),s(2," Finalizar "),r(),y()}}function oe(a,t){if(a&1){let e=x();i(0,"tr",19)(1,"td",20),s(2),r(),i(3,"td",21),s(4),r(),i(5,"td",20),s(6),r(),i(7,"td",20),s(8),z(9,"date"),r(),i(10,"td",22)(11,"span",23),s(12),r()(),i(13,"td",22)(14,"button",24),f("click",function(){let o=m(e).$implicit,d=c();return p(d.openProof(d.apiUrl+o.fileUrl))}),w(),i(15,"svg",25),h(16,"path",26)(17,"path",27),r(),k(),i(18,"span",28),s(19,"Visualizar comprobante"),r()()(),i(20,"td",22)(21,"button",29),f("click",function(){let o=m(e).$implicit,d=c();return p(d.openDetails(o.requestId))}),s(22," Ver detalles "),r()(),i(23,"td",22)(24,"div",30),v(25,ie,5,0,"ng-container",31)(26,re,5,0,"ng-container",31)(27,ne,3,0,"ng-container",31),r()()()}if(a&2){let e=t.$implicit;l(2),N(" ",e.user.name," ",e.user.lastName," "),l(2),g(" ",e.responsible," "),l(2),g(" ",e.typeRequest," "),l(2),g(" ",j(9,10,e.returnDate,"dd/MM/yyyy HH:mm")," "),l(3),u("ngClass",A(13,te,e.status==="pendiente",e.status==="prestamo",e.status==="no_devuelto")),l(),g(" ",e.status," "),l(13),u("ngIf",e.status==="pendiente"),l(),u("ngIf",e.status==="prestamo"),l(),u("ngIf",e.status==="no_devuelto")}}function se(a,t){if(a&1&&(i(0,"div",40)(1,"div",41)(2,"a",42),h(3,"img",43),r(),i(4,"div",44)(5,"p",45),s(6),r()()(),i(7,"div",46)(8,"p",47)(9,"span",45),s(10,"Categor\xEDa:"),r(),s(11),r(),i(12,"div",48)(13,"p",49),s(14),r(),i(15,"span",50),s(16,"Cantidad"),r()()()()),a&2){let e=t.$implicit,n=c(2);l(3),u("src",n.apiUrl+e.imageUrl,S)("alt",e.name),l(3),g(" ",e.name," "),l(5),g(" ",e.category," "),l(3),g("x",e.quantity,"")}}function ae(a,t){if(a&1){let e=x();i(0,"div",35)(1,"div",36),v(2,se,17,5,"div",37),i(3,"div",38)(4,"button",39),f("click",function(){m(e);let o=c();return p(o.closeModal())}),s(5," Cerrar "),r()()()()}if(a&2){let e=c();l(2),u("ngForOf",e.modalDetails)}}function le(a,t){a&1&&(i(0,"div",59),h(1,"div",60),r())}function ce(a,t){if(a&1&&(_(0),i(1,"div",61)(2,"p",62),s(3," Para una mejor visualizaci\xF3n en dispositivos m\xF3viles, puedes: "),r(),i(4,"a",63),w(),i(5,"svg",64),h(6,"path",65),r(),s(7," Descargar PDF "),r()(),k(),i(8,"iframe",66)(9,"p"),s(10,"Tu navegador no soporta la visualizaci\xF3n de PDFs."),r()(),y()),a&2){let e=c(2);l(4),u("href",e.proofUrl,S),l(4),u("src",e.proofUrl,E)}}function de(a,t){if(a&1&&h(0,"img",67),a&2){let e=c(2);u("src",e.proofUrl,S)}}function ue(a,t){if(a&1){let e=x();i(0,"div",51)(1,"div",52)(2,"div",53),v(3,le,2,0,"div",54)(4,ce,11,2,"ng-container",31)(5,de,1,1,"img",55),i(6,"button",56),f("click",function(){m(e);let o=c();return p(o.closeProofModal())}),i(7,"span",28),s(8,"Cerrar"),r(),w(),i(9,"svg",57),h(10,"path",58),r()()()()()}if(a&2){let e=c();l(3),u("ngIf",e.isLoading),l(),u("ngIf",e.proofUrl&&e.pdfType==="pdf"),l(),u("ngIf",e.proofUrl&&e.pdfType==="image")}}function me(a,t){if(a&1){let e=x();i(0,"div",35)(1,"div",68)(2,"h3",69),s(3),r(),i(4,"textarea",70),V("ngModelChange",function(o){m(e);let d=c();return M(d.adminNotes,o)||(d.adminNotes=o),p(o)}),s(5,"    "),r(),i(6,"div",71)(7,"button",72),f("click",function(){m(e);let o=c();return p(o.closeAdminNotesModal())}),s(8," Cancelar "),r(),i(9,"button",73),f("click",function(){m(e);let o=c();return p(o.saveAdminNotes())}),s(10),r()()()()}if(a&2){let e=c();l(3),g(" ",e.isRejectionAction?"Motivo del rechazo":"Agregar Observaci\xF3n"," "),l(),I("ngModel",e.adminNotes),u("placeholder",e.isRejectionAction?"Escriba el motivo del rechazo aqu\xED...":"Escriba su observaci\xF3n aqu\xED..."),l(5),u("disabled",!e.adminNotes.trim()),l(),g(" ",e.isRejectionAction?"Rechazar solicitud":"Guardar y Continuar"," ")}}var R=class a{constructor(t,e,n,o){this.requestService=t;this.sanitizer=e;this.sweetalertService=n;this.userService=o}apiUrl=$.apiUrl;requests=[];filteredRequests=[];selectedFilter="todo";isModalOpen=!1;isProofModalOpen=!1;modalDetails=[];proofUrl=null;pdfType="";isLoading=!1;adminNotes="";isAdminNotesModalOpen=!1;currentRequestId=null;notReturnedLoans=[];isRejectionAction=!1;userRole="";ngOnInit(){Y(),this.fetchActiveRequests(),this.userService.getUserDetails().subscribe(t=>this.userRole=t),console.log()}fetchActiveRequests(){this.isLoading=!0,this.requestService.getRequestsByFilter({isActive:!0}).subscribe({next:t=>{this.requests=t,this.filterRequests(),this.isLoading=!1},error:t=>{this.isLoading=!1,console.error("Error al obtener solicitudes activas:",t),this.sweetalertService.error("No se pudieron obtener las solicitudes activas.")}})}filterRequests(){this.selectedFilter==="todo"?this.filteredRequests=this.requests.filter(t=>t.status==="pendiente"||t.status==="prestamo"||t.status==="no_devuelto"):this.filteredRequests=this.requests.filter(t=>t.status===this.selectedFilter)}onFilterChange(t){let e=t.target;this.selectedFilter=e.value,this.filterRequests()}openDetails(t){this.requestService.getRequestById(t).subscribe({next:e=>{this.modalDetails=e.requestDetails.map(n=>({name:n.component.name,description:n.component.description,imageUrl:n.component.imageUrl,quantity:n.quantity,category:n.component.category?.name||"Sin categor\xEDa"})),this.isModalOpen=!0},error:e=>{console.error("Error al obtener los detalles de la solicitud:",e),this.sweetalertService.error("No se pudieron obtener los detalles de la solicitud.")}})}closeModal(){this.isModalOpen=!1,this.modalDetails=[]}openProof(t){let e=t.startsWith("http")?t:`${this.apiUrl}${t}`;this.isLoading=!0,e.toLowerCase().endsWith(".pdf")?this.requestService.getComprobante(e).subscribe({next:n=>{let o=URL.createObjectURL(n);this.proofUrl=this.sanitizer.bypassSecurityTrustResourceUrl(o),this.pdfType="pdf",this.isProofModalOpen=!0,this.isLoading=!1},error:n=>{console.error("Error al cargar el PDF:",n),this.sweetalertService.error("No se pudo cargar el comprobante."),this.isLoading=!1}}):(this.proofUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.pdfType="image",this.isProofModalOpen=!0,this.isLoading=!1)}closeProofModal(){if(this.proofUrl&&this.pdfType==="pdf"){let t=this.proofUrl.toString();URL.revokeObjectURL(t)}this.isProofModalOpen=!1,this.proofUrl=null,this.pdfType=""}acceptRequest(t){if(!t){this.sweetalertService.error("ID de solicitud no v\xE1lido");return}this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas aceptar esta solicitud?").then(e=>{e.isConfirmed&&this.requestService.updateRequest(t).subscribe({next:n=>{this.sweetalertService.success("Solicitud aceptada con \xE9xito"),this.fetchActiveRequests()},error:n=>{let o=n.error?.error||"Error al aceptar la solicitud";if(o==="No hay un periodo acad\xE9mico activo. No se puede aceptar la solicitud.")this.sweetalertService.error("No hay un periodo acad\xE9mico activo. Por favor, config\xFArelo antes de continuar.");else if(n.error?.stockErrors){let d=n.error.stockErrors.map(q=>`\u2022 ${q.componentName}:
  - Cantidad solicitada: ${q.requestedQuantity}
  - Cantidad disponible: ${q.availableQuantity}`).join(`
`);this.sweetalertService.error("Stock insuficiente",`Los siguientes componentes no tienen stock suficiente:

`+d)}else this.sweetalertService.error(o)}})})}rejectRequest(t){if(!t){this.sweetalertService.error("ID de solicitud no v\xE1lido"),console.error("ID de solicitud no v\xE1lido");return}this.sweetalertService.confirm("Por favor, agregue el motivo del rechazo").then(e=>{e.isConfirmed&&(this.currentRequestId=t,this.isAdminNotesModalOpen=!0,this.isRejectionAction=!0)})}finalizeRequest(t){if(!t){this.sweetalertService.error("ID de solicitud no v\xE1lido"),console.error("ID de solicitud no v\xE1lido");return}this.sweetalertService.confirm("\xBFDesea agregar alguna observaci\xF3n?").then(e=>{e.isConfirmed?(this.currentRequestId=t,this.isAdminNotesModalOpen=!0):this.confirmFinalizeRequest(t)})}confirmFinalizeRequest(t){this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas finalizar esta solicitud?").then(e=>{e.isConfirmed&&this.requestService.finalizeRequest(t,this.adminNotes).subscribe({next:n=>{this.sweetalertService.success("Solicitud finalizada con \xE9xito"),this.fetchActiveRequests()},error:n=>{let o=n.error?.error||"Error al finalizar la solicitud";o.includes("No hay un periodo acad\xE9mico activo")?this.sweetalertService.error("No hay un periodo acad\xE9mico activo. Por favor, config\xFArelo antes de continuar."):this.sweetalertService.error(o)}})})}closeAdminNotesModal(){this.isAdminNotesModalOpen=!1,this.adminNotes="",this.currentRequestId=null,this.isRejectionAction=!1}saveAdminNotes(){this.currentRequestId&&(this.isAdminNotesModalOpen=!1,this.isRejectionAction?this.confirmRejectRequest(this.currentRequestId):this.requests.find(e=>e.requestId===this.currentRequestId)?.status==="prestamo"?this.confirmMarkAsNotReturned(this.currentRequestId):this.confirmFinalizeRequest(this.currentRequestId))}cancelRequest(t){this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas cancelar esta solicitud?").then(e=>{e.isConfirmed&&this.requestService.deleteRequest(t).subscribe({next:()=>{this.sweetalertService.success("Solicitud cancelada exitosamente."),this.fetchActiveRequests()},error:n=>{let o=n.error?.error||"Hubo un error al cancelar la solicitud.";o==="No hay un periodo acad\xE9mico activo."?this.sweetalertService.error("No hay un periodo acad\xE9mico activo. Por favor, config\xFArelo antes de continuar."):this.sweetalertService.error(o)}})})}markAsNotReturned(t){if(!t){this.sweetalertService.error("ID de solicitud no v\xE1lido"),console.error("ID de solicitud no v\xE1lido");return}this.sweetalertService.confirm("\xBFDesea agregar alguna observaci\xF3n?").then(e=>{e.isConfirmed?(this.currentRequestId=t,this.isAdminNotesModalOpen=!0):this.confirmMarkAsNotReturned(t)})}confirmMarkAsNotReturned(t){this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas marcar esta solicitud como no devuelta?").then(e=>{e.isConfirmed&&this.requestService.markAsNotReturned(t,this.adminNotes).subscribe({next:n=>{this.sweetalertService.success("Solicitud marcada como no devuelta con \xE9xito"),this.fetchActiveRequests()},error:n=>{this.sweetalertService.error("Error al marcar la solicitud como no devuelta"),console.error("Error al marcar la solicitud como no devuelta:",n)}})})}confirmRejectRequest(t){this.sweetalertService.confirm("\xBFEst\xE1s seguro de que deseas rechazar esta solicitud?").then(e=>{e.isConfirmed&&this.requestService.rejectRequest(t,this.adminNotes).subscribe({next:n=>{this.sweetalertService.success("Solicitud rechazada con \xE9xito"),this.fetchActiveRequests()},error:n=>{let o=n.error?.error||"Error al rechazar la solicitud";o==="No hay un periodo acad\xE9mico activo."?this.sweetalertService.error("No hay un periodo acad\xE9mico activo. Por favor, config\xFArelo antes de continuar."):this.sweetalertService.error(o)}}),this.isRejectionAction=!1,this.adminNotes=""})}canMarkAsNotReturned(t){return t.status==="prestamo"}canFinalize(t){return["prestamo","no_devuelto"].includes(t.status)}static \u0275fac=function(e){return new(e||a)(b(ee),b(P),b(X),b(H))};static \u0275cmp=C({type:a,selectors:[["app-request"]],standalone:!0,features:[T],decls:42,vars:4,consts:[[1,"bg-white","py-2","antialiased","dark:bg-gray-900","md:py-4","rounded-lg"],[1,"mx-auto","max-w-screen-xl","px-4","2xl:px-0"],[1,"gap-4","sm:flex","sm:items-center","sm:justify-between","text-center","sm:text-left"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","sm:text-2xl","p-4"],[1,"mt-6","sm:mt-0","p-4"],["for","filter-status",1,"sr-only"],["id","filter-status",1,"block","w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","focus:border-primary-500","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder:text-gray-400","dark:focus:border-primary-500","dark:focus:ring-primary-500",3,"change"],["value","todo"],["value","pendiente"],["value","prestamo"],["value","no_devuelto"],[1,"overflow-x-auto","rounded-lg"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400","rounded-lg"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"p-4"],["scope","col",1,"p-4","text-center"],["class","border-b dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700",4,"ngFor","ngForOf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],["class","fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",4,"ngIf"],[1,"border-b","dark:border-gray-600","hover:bg-gray-100","dark:hover:bg-gray-700"],[1,"px-4","py-3","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-4","py-3","font-medium","text-gray-900","dark:text-white","max-w-[200px]","break-words"],[1,"px-4","py-3"],[1,"text-xs","font-medium","px-2.5","py-0.5","rounded",3,"ngClass"],["type","button",1,"rounded-lg","p-2","text-gray-800","hover:text-primary-700","focus:outline-none","focus:ring-4","focus:ring-gray-200","dark:text-white","dark:hover:text-primary-300","dark:focus:ring-gray-700",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill-rule","evenodd","d","M8 7V2.221a2 2 0 0 0-.5.365L3.586 6.5a2 2 0 0 0-.365.5H8Zm2 0V2h7a2 2 0 0 1 2 2v.126a5.087 5.087 0 0 0-4.74 1.368v.001l-6.642 6.642a3 3 0 0 0-.82 1.532l-.74 3.692a3 3 0 0 0 3.53 3.53l3.694-.738a3 3 0 0 0 1.532-.82L19 15.149V20a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9h5a2 2 0 0 0 2-2Z","clip-rule","evenodd"],["fill-rule","evenodd","d","M17.447 8.08a1.087 1.087 0 0 1 1.187.238l.002.001a1.088 1.088 0 0 1 0 1.539l-.377.377-1.54-1.542.373-.374.002-.001c.1-.102.22-.182.353-.237Zm-2.143 2.027-4.644 4.644-.385 1.924 1.925-.385 4.644-4.642-1.54-1.54Zm2.56-4.11a3.087 3.087 0 0 0-2.187.909l-6.645 6.645a1 1 0 0 0-.274.51l-.739 3.693a1 1 0 0 0 1.177 1.176l3.693-.738a1 1 0 0 0 .51-.274l6.65-6.646a3.088 3.088 0 0 0-2.185-5.275Z","clip-rule","evenodd"],[1,"sr-only"],[1,"inline-flex","justify-center","rounded-lg","border","border-gray-300","bg-white","px-3","py-2","text-sm","font-medium","text-gray-900","hover:bg-gray-100","hover:text-primary-700","focus:outline-none","focus:ring-4","focus:ring-gray-200","dark:border-gray-600","dark:bg-gray-800","dark:text-gray-400","dark:hover:bg-gray-700","dark:hover:text-white","dark:focus:ring-gray-700",3,"click"],[1,"flex","items-center","space-x-4"],[4,"ngIf"],[1,"py-2","px-3","flex","items-center","text-sm","font-medium","text-center","text-white","bg-green-600","rounded-lg","hover:bg-green-700","focus:ring-4","focus:outline-none","focus:ring-green-300",3,"click"],[1,"py-2","px-3","flex","items-center","text-sm","font-medium","text-center","text-white","bg-red-600","rounded-lg","hover:bg-red-700","focus:ring-4","focus:outline-none","focus:ring-red-300",3,"click"],[1,"py-2","px-3","flex","items-center","text-sm","font-medium","text-center","text-white","bg-yellow-600","rounded-lg","hover:bg-yellow-700","focus:ring-4","focus:outline-none","focus:ring-yellow-300",3,"click"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"w-full","max-w-xl","lg:max-w-2xl","divide-y","divide-gray-200","overflow-hidden","rounded-lg","border","border-gray-200","dark:divide-gray-700","dark:border-gray-700","bg-white","dark:bg-gray-800"],["class","max-h-[80vh] overflow-y-auto space-y-4 p-6",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-4","p-4"],[1,"rounded-lg","bg-red-600","px-4","py-2","text-sm","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-4","focus:ring-red-300","dark:bg-red-700","dark:hover:bg-red-800","dark:focus:ring-red-800",3,"click"],[1,"max-h-[80vh]","overflow-y-auto","space-y-4","p-6"],[1,"flex","items-center","gap-6"],[1,"h-14","w-14","shrink-0"],[1,"h-full","w-full","rounded-lg",3,"src","alt"],[1,"min-w-0","flex-1"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-normal","text-gray-500","dark:text-gray-400"],[1,"flex","items-center"],[1,"text-base","font-normal","text-gray-900","dark:text-white"],[1,"ml-2","text-gray-900","dark:text-white"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black","bg-opacity-50","p-4"],[1,"relative","w-full","bg-white","rounded-lg","shadow-lg","dark:bg-gray-800","sm:w-11/12","md:w-10/12","lg:w-4/5","xl:w-3/4","2xl:w-2/3"],[1,"relative"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class",`w-full rounded-lg object-contain
                  sm:h-[60vh]
                  md:h-[65vh]
                  lg:h-[70vh]
                  xl:h-[75vh]
                  2xl:h-[80vh]`,"alt","Comprobante",3,"src",4,"ngIf"],[1,"absolute","-top-4","-right-4","rounded-full","bg-red-600","p-2","text-white","hover:bg-red-700","shadow-lg","flex","items-center","justify-center","w-8","h-8","transform","transition-transform","hover:scale-110",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"animate-spin","rounded-full","h-16","w-16","border-b-2","border-primary-700"],[1,"block","sm:hidden","p-4","text-center"],[1,"text-gray-600","dark:text-gray-300","mb-4"],["download","",1,"inline-flex","items-center","px-4","py-2","bg-primary-600","text-white","rounded-lg","hover:bg-primary-700",3,"href"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"],["frameborder","0","title","PDF Viewer",1,"hidden","sm:block","w-full","rounded-lg","sm:h-[60vh]","md:h-[65vh]","lg:h-[70vh]","xl:h-[75vh]","2xl:h-[80vh]",3,"src"],["alt","Comprobante",1,"w-full","rounded-lg","object-contain","sm:h-[60vh]","md:h-[65vh]","lg:h-[70vh]","xl:h-[75vh]","2xl:h-[80vh]",3,"src"],[1,"w-full","max-w-lg","rounded-lg","bg-white","p-6","shadow","dark:bg-gray-800"],[1,"mb-4","text-xl","font-medium","text-gray-900","dark:text-white"],["rows","4","required","",1,"w-full","rounded-lg","border","border-gray-300","bg-gray-50","p-2.5","text-sm","text-gray-900","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white",3,"ngModelChange","ngModel","placeholder"],[1,"mt-4","flex","justify-end","gap-2"],[1,"rounded-lg","bg-gray-600","px-3","py-2","text-sm","font-medium","text-white","hover:bg-gray-700",3,"click"],[1,"rounded-lg","bg-blue-600","px-3","py-2","text-sm","font-medium","text-white","hover:bg-blue-700","disabled:bg-blue-400","disabled:cursor-not-allowed",3,"click","disabled"]],template:function(e,n){e&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2",3),s(4,"Administrar Solicitudes"),r(),i(5,"div",4)(6,"label",5),s(7,"Filtrar por estado"),r(),i(8,"select",6),f("change",function(d){return n.onFilterChange(d)}),i(9,"option",7),s(10,"Todo"),r(),i(11,"option",8),s(12,"Pendiente"),r(),i(13,"option",9),s(14,"En pr\xE9stamo"),r(),i(15,"option",10),s(16,"No devuelto"),r()()()(),i(17,"div",11)(18,"table",12)(19,"thead",13)(20,"tr")(21,"th",14),s(22,"Usuario"),r(),i(23,"th",14),s(24,"Corresponsal"),r(),i(25,"th",14),s(26,"Tipo de solicitud"),r(),i(27,"th",14),s(28,"Fecha retorno"),r(),i(29,"th",14),s(30,"Estado"),r(),i(31,"th",14),s(32,"Comprobante"),r(),i(33,"th",14),s(34,"Detalles"),r(),i(35,"th",15),s(36,"Acciones"),r()()(),i(37,"tbody"),v(38,oe,28,17,"tr",16),r()()()()(),v(39,ae,6,1,"div",17)(40,ue,11,3,"div",18)(41,me,11,5,"div",17)),e&2&&(l(38),u("ngForOf",n.filteredRequests),l(),u("ngIf",n.isModalOpen),l(),u("ngIf",n.isProofModalOpen),l(),u("ngIf",n.isAdminNotesModalOpen))},dependencies:[L,U,D,F,O,K,G,Q,B,W,J,Z],encapsulation:2})};export{R as default};
